<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Pets</title>
    <link rel="stylesheet" href="/content/css/styles.css">
</head>
<body>
    <label><b>All Pets:</b></label>
    <br><br> 
    <!-- Add this code at the top, above the table -->
    <label for="zipcodeFilter">Filter by Zipcode:</label>
    <input type="text" id="zipcodeFilter" name="zipcodeFilter" placeholder="Enter Zipcode">
    <button onclick="filterByZipcode()">Filter</button>
    <br><br>
    <table style="width: 100%; background-color: antiquewhite; border: 1px solid black;">
        <thead style="background-color: cornflowerblue; color:white;">
            <tr>
                <th style="text-align: center;">OwnerID</th>
                <th style="text-align: center;">PetID</th>
                <th style="text-align: center;">PetName</th>
                <th style="text-align: center;">PetReward</th>
                <th style="text-align: center;">LastSeenZip</th>
                <th style="text-align: center;">LastSeenDate</th>
                <th style="text-align: center;">LastSeenDesc</th>
                <th style="text-align: center;">ImagePath</th>
                <th style="text-align: center;">OwnerFirstName</th>
                <th style="text-align: center;">OwnerLastName</th>
                <th style="text-align: center;">OwnerPhone</th>
                <th style="text-align: center;">OwnerEmail</th>
                <th style="text-align: center;">OwnerZip</th>
                <!-- Add any additional columns here -->
            </tr>
        </thead> 
        <tbody style="font-family: Arial; font-size: 9pt;">
            <% for (let iCount = 0; iCount < fulldata.length; iCount++) { %>
                <tr>
                    <td style="text-align: center;"><%= fulldata[iCount].OwnerID %></td>
                    <td style="text-align: center;"><%= fulldata[iCount].PetID %></td>
                    <td style="text-align: center;"><%= fulldata[iCount].PetName %></td>
                    <td style="text-align: center;"><%= fulldata[iCount].PetReward %></td>
                    <td style="text-align: center;"><%= fulldata[iCount].LastSeenZip %></td>
                    <td style="text-align: center;"><%= fulldata[iCount].LastSeenDate %></td>
                    <td style="text-align: center;"><%= fulldata[iCount].LastSeenDesc %></td>
                    <td style="text-align: center;"><%= fulldata[iCount].ImagePath %></td>
                    <td style="text-align: center;"><%= fulldata[iCount].OwnerFirstName %></td>
                    <td style="text-align: center;"><%= fulldata[iCount].OwnerLastName %></td>
                    <td style="text-align: center;"><%= fulldata[iCount].OwnerPhone %></td>
                    <td style="text-align: center;"><%= fulldata[iCount].OwnerEmail %></td>
                    <td style="text-align: center;"><%= fulldata[iCount].OwnerZip %></td>
                    <!-- Add any additional columns here -->
                    
                </tr>
            <% } %>
        </tbody> 
    </table>
    <!-- Add this script at the bottom, after the table -->
    <script>
        function filterByZipcode() {
        // Get the value entered in the zipcode input
        var zipcode = document.getElementById("zipcodeFilter").value;
    
        // Redirect to a new URL with the filter parameter
        window.location.href = "/database?zipcode=" + zipcode;
        }
    </script>
</body>
</html>
